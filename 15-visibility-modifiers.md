Kotlin 允许通过 _可见性修饰符_（可以放置在符号声明上）强制执行符号可见性（Python 仅通过下划线约定来实现）。如果不提供可见性修饰符，那么会获得默认的 _可见性_ 级别，该级别为 _public_ 。

可见性修饰符的含义取决于它是应用于顶级声明还是应用于类内的声明。对于顶级声明：

* `public`（或省略）：此符号在整个代码库中可见
* `internal`：此符号仅在与声明该符号的文件属于同一 _模块_（由 IDE 或构建工具定义的源代码分组）的文件内部可见
* `private`：此符号仅在声明该符号的文件内部可见

例如，可以使用 `private` 来定义一个文件中的多个函数所需的属性或辅助函数，或者定义其中一个私有函数返回的复杂类型，而无需将其泄漏给代码库的其余部分：

```kotlin
private class ReturnType(val a: Int, val b: Double, val c: String)

private fun secretHelper(x: Int) = x * x

private const val secretValue = 3.14
```

对于在类内部声明的符号：

* `public`（或省略）：任何可以看到包含该符号的类的代码都可以看到该符号
* `internal`：该符号仅对在这样的文件内的代码可见，该文件与声明该符号的文件属于同一模块，并且还可以看到文件中包含的类
* `protected`：此符号仅在包含类及其所有子类中可见，无论它们在何处声明（因此，如果类是公有的且[开放](inheritance.html#子类化)的，那么任何人都可以对其进行子类化，从而查看并使用受保护的成员）。如果使用过 Java：这也 _不_ 会授予其余包的访问权限。
* `private`：此符号仅在包含的类中可见

构造函数也可以具有可见性修饰符。如果要在主要构造函数上放置一个（如果有许多次要构造函数，它们全部调用了不想公开的复杂主要构造函数，那么可能要这样做），需要包括 `constructor` 关键字：`class Person private constructor(val name: String)`。

可见性修饰符不能放在局部变量上，因为它们的可见性始终限于包含块。

属性的类型以及用于参数的类型和函数的返回类型，必须与属性/函数本身“至少一样可见”。例如，公有函数不能将私有类型作为参数。

可见性级别仅影响 _符号_ 的 _词法可见性_ ——也就是说，编译器允许键入符号。它不会影响 _实例_ 的使用位置：例如，公有顶级函数很可能会返回私有类的实例，只要返回类型没有提及私有类名称，而是它的公有基类即可。私有类（可能是 `Any`）或私有类实现的公有接口。当对某个子类进行[子类化](inheritance.html#子类化)时，子类也继承了它的私有成员，但是在该子类中不能直接访问它——但是，如果调用碰巧访问了私有成员的继承的公有函数，那也没关系。




---

[← 上一节：包与导入](packages-and-imports.html) | [下一节：继承 →](inheritance.html)


---

*本资料英文原文的作者是 [Aasmund Eldhuset](https://eldhuset.net/)；其所有权属于[可汗学院（Khan Academy）](https://www.khanacademy.org/)，授权许可为 [CC BY-NC-SA 3.0 US（署名-非商业-相同方式共享）](https://creativecommons.org/licenses/by-nc-sa/3.0/us/)。请注意，这并不是可汗学院官方产品的一部分。中文版由[灰蓝天际](https://hltj.me/)、[Yue-plus](https://github.com/Yue-plus) 翻译，遵循相同授权方式。*